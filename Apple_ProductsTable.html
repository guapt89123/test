<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apple-Products</title>
    <style>
        table,
        th,
        td {
            border: 1px solid #000;
            border-collapse: collapse;
            text-align: center;
        }
        th:nth-child(-n+3){
            cursor: pointer;
        }
        img {
            width: 50px;
            margin: 5px;
        }
    </style>
</head>

<body>
    <script>
        var iPad = [
            {
                "sku": "MW762",
                "price": 10900,
                "storage": "32GB",
                "description": "10.2 吋 iPad Wi-Fi 機型 32GB - 金色",
                "picture": "ipad_gold.png"
            },
            {
                "sku": "MW792",
                "price": 13900,
                "storage": "128GB",
                "description": "10.2 吋 iPad Wi-Fi 機型 128GB - 金色",
                "picture": "ipad_gold.png"
            },
            {
                "sku": "MW742",
                "price": 10900,
                "storage": "32GB",
                "description": "10.2 吋 iPad Wi-Fi 機型 32GB - 太空灰色",
                "picture": "ipad_space.png"
            },
            {
                "sku": "MW772",
                "price": 13900,
                "storage": "128GB",
                "description": "10.2 吋 iPad Wi-Fi 機型 128GB - 太空灰色",
                "picture": "ipad_space.png"
            },
            {
                "sku": "MW752",
                "price": 10900,
                "storage": "32GB",
                "description": "10.2 吋 iPad Wi-Fi 機型 32GB - 銀色",
                "picture": "ipad_silver.png"
            },
            {
                "sku": "MW782",
                "price": 13900,
                "storage": "128GB",
                "description": "10.2 吋 iPad Wi-Fi 機型 128GB - 銀色",
                "picture": "ipad_silver.png"
            },
            {
                "sku": "MW6D2",
                "price": 15400,
                "storage": "32GB",
                "description": "10.2 吋 iPad Wi-Fi + 行動網路機型 32GB - 金色",
                "picture": "ipad_gold.png"
            },
            {
                "sku": "MW6G2",
                "price": 18400,
                "storage": "128GB",
                "description": "10.2 吋 iPad Wi-Fi + 行動網路機型 128GB - 金色",
                "picture": "ipad_gold.png"
            },
            {
                "sku": "MW6A2",
                "price": 15400,
                "storage": "32GB",
                "description": "10.2 吋 iPad Wi-Fi + 行動網路機型 32GB - 太空灰色",
                "picture": "ipad_space.png"
            },
            {
                "sku": "MW6E2",
                "price": 18400,
                "storage": "128GB",
                "description": "10.2 吋 iPad Wi-Fi + 行動網路機型 128GB - 太空灰色",
                "picture": "ipad_space.png"
            },
            {
                "sku": "MW6C2",
                "price": 15400,
                "storage": "32GB",
                "description": "10.2 吋 iPad Wi-Fi + 行動網路機型 32GB - 銀色",
                "picture": "ipad_silver.png"
            },
            {
                "sku": "MW6F2",
                "price": 18400,
                "storage": "128GB",
                "description": "10.2 吋 iPad Wi-Fi + 行動網路機型 128GB - 銀色",
                "picture": "ipad_silver.png"
            }
        ];
        // let iPad_expensive = iPad.filter(item => item.price > 15000);

        var body = document.querySelector('body');
        var table = document.createElement('table');
        var thead = document.createElement('thead');
        var tbody = document.createElement('tbody');
        var tr = document.createElement('tr');
        body.appendChild(table);
        table.appendChild(tbody);
        table.appendChild(thead);
        thead.appendChild(tr);
        addThead();
        addTbody();

        function addThead() {
            for (x in iPad[0]) {
                var th = document.createElement('th');
                if (x == 'sku') {
                    th.setAttribute('onclick', 'OrderSku()');
                    th.innerHTML = x;
                    tr.appendChild(th);
                }
                else if (x == 'price') {
                    th.setAttribute('onclick', 'OrderPrice()');
                    th.innerHTML = x;
                    tr.appendChild(th);
                }
                else if (x == 'storage') {
                    th.setAttribute('onclick', 'OrderStorage()');
                    th.innerHTML = x;
                    tr.appendChild(th);
                }
                else {
                    th.innerHTML = x;
                    tr.appendChild(th);
                }
            }
        }
        function addTbody() {
            for (i = 0; i < iPad.length; i++) {
                var tr = document.createElement('tr');
                for (x in iPad[i]) {
                    if (x == 'picture') {
                        var td = document.createElement('td');
                        var img = document.createElement('img')
                        img.setAttribute('src', `${iPad[i].picture}`);
                        td.appendChild(img);
                        tr.appendChild(td);
                    }
                    else {
                        var td = document.createElement('td');
                        td.innerHTML = iPad[i][x];
                        tr.appendChild(td);
                    }
                }
                tbody.appendChild(tr);
            }
        }
        var ClickSku = 0;
        var ClickPrice = 0;
        var ClickStorage = 0;
        function OrderSku() {
            if (ClickSku == 0) {
                iPad = iPad.sort(function (a, b) {
                    return a.sku < b.sku ? 1 : -1;
                });
                ClickSku = 1;
            }
            else {
                iPad = iPad.sort(function (a, b) {
                    return a.sku > b.sku ? 1 : -1;
                });
                ClickSku = 0;
            }
            tbody.innerHTML = '';
            addTbody();
        }
        function OrderPrice() {
            if (ClickPrice == 0) {
                iPad = iPad.sort(function (a, b) {
                    return a.price < b.price ? 1 : -1;
                });
                ClickPrice = 1;
            }
            else {
                iPad = iPad.sort(function (a, b) {
                    return a.price > b.price ? 1 : -1;
                });
                ClickPrice = 0;
            }
            tbody.innerHTML = '';
            addTbody();
        }
        function OrderStorage() {
            if (ClickStorage == 0) {
                iPad = iPad.sort(function (a, b) {
                    return a.storage < b.storage ? 1 : -1;
                });
                ClickStorage = 1;
            }
            else {
                iPad = iPad.sort(function (a, b) {
                    return a.storage > b.storage ? 1 : -1;
                });
                ClickStorage = 0;
            }
            tbody.innerHTML = '';
            addTbody();
        }
    </script>
</body>

</html>